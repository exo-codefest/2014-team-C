define("SHARED/clv",["SHARED/jquery"],function(h){eXo.define.names=["gj"];eXo.define.deps=[h];return function(d){function e(){}e.prototype.initCheckedRadio=function(a){eXo.core.Browser.chkRadioId=a};e.prototype.initCondition=function(a){for(var c=document.getElementById(a),b=[],a=0;a<c.elements.length;a++)"radio"==c.elements[a].type&&b.push(c.elements[a]);for(a=b.length;a--;)b[a].onclick=eXo.ecm.CLV.chooseCondition;a=eXo.core.Browser.chkRadioId&&"null"!=eXo.core.Browser.chkRadioId?document.getElementById(eXo.core.Browser.chkRadioId):
b[0];c=d(a).parents(".ContentSearchForm:first")[0];b=d(a.form).find("div.ContentSearchForm");for(a=0;a<b.length;a++)eXo.ecm.CLV.setCondition(b[a],!0);eXo.ecm.CLV.enableCondition(c)};e.prototype.chooseCondition=function(){d(this.form).find("input.hidden:first")[0].value=this.id;for(var a=d(this).parents(".ContentSearchForm:first")[0],c=d(this.form).find("div.ContentSearchForm"),b=0;b<c.length;b++)eXo.ecm.CLV.setCondition(c[b],!0);eXo.ecm.CLV.enableCondition(a);eXo.ecm.lastCondition=a};e.prototype.enableCondition=
function(a){eXo.ecm.lastCondition&&eXo.ecm.CLV.setCondition(eXo.ecm.lastCondition,!0);eXo.ecm.CLV.setCondition(a,!1)};e.prototype.setCondition=function(a,c){var b=d(a).find("img");if(b&&0<b.length)for(var f=0;f<b.length;f++)b[f].style.visibility=c?"hidden":"";if((b=d(a).find("input"))&&0<b.length)for(f=0;f<b.length;f++)if("radio"!=b[f].type)b[f].disabled=c;if((b=d(a).find("select"))&&0<b.length)for(f=0;f<b.length;f++)b[f].disabled=c};e.prototype.setHiddenValue=function(){var a=document.getElementById("checkedRadioId");
"null"==eXo.core.Browser.chkRadioId?(a.value="name",document.getElementById("name").checked=!0):(a.value=eXo.core.Browser.chkRadioId,document.getElementById(eXo.core.Browser.chkRadioId).checked=!0)};e.prototype.checkModeViewer=function(){for(var a=document.getElementById("UICLVConfig"),c=d(a).find("tr.OrderBlock"),a=d(a).find("input"),b=0;b<a.length;b++)if("ViewerMode"==a[b].getAttribute("name"))if("AutoViewerMode"==a[b].value)a[b].onclick=function(){for(var a=0;a<c.length;a++)c[a].style.display=
""};else if("ManualViewerMode"==a[b].value)a[b].onclick=function(){for(var a=0;a<c.length;a++)c[a].style.display="none"}};e.prototype.checkContextualFolderInput=function(){document.getElementById("UICLVConfig");var a=d("#clvAdvancedTab-tab"),c=d(a).find("input[name=UICLVConfigContextualFolderRadioBoxInput]")[0],a=d(a).find("input[name=UICLVConfigContextualFolderRadioBoxInput]")[1],b=d("#UICLVConfigShowCLVByStringInput");c.setAttribute("onmouseup","eXo.ecm.CLV.enableClvInput(this)");a.setAttribute("onmouseup",
"eXo.ecm.CLV.disableClvInput(this)");c.checked?d(b).attr("readonly",!1):d(b).attr("readonly",!0)};e.prototype.enableClvInput=function(){var a=d("#UICLVConfigShowCLVByStringInput");d(a).attr("readonly",!1)};e.prototype.disableClvInput=function(){var a=d("#UICLVConfigShowCLVByStringInput");d(a).attr("readonly",!0)};e.prototype.addURL=function(a){var c=a.getAttribute("href"),b=c.indexOf("&backto");0>b&&(b=c.indexOf("?backto"));if(!(0>b)){var b=c.indexOf("&",b+1),d="",e=c;0<b&&(d=c.substr(b),e=c.substr(0,
b));c=e+escape(location.search)+d;a.setAttribute("href",c)}};e.prototype.contextualProcessing=function(a){var c=d(a).find("input.radio:first")[0];c.getAttribute("checked");var a=d(a).parents(".UIForm:first")[0],a=d(a).find("div.UIFormInputSetWithAction:first")[0],b=a.innerHTML,e=b.indexOf("<img"),g=b.substr(0,e),b=b.substr(e),g=g.substr(0,g.lastIndexOf(">")+1),g=g.trim();c.checked?(document.getElementById("UISCVPreferences").UISCVParameterInputBox.removeAttribute("readonly",0),a.innerHTML=g+b):(document.getElementById("UISCVParameterInputBox").setAttribute("readonly",
!0),a.innerHTML=g+"*"+b)};eXo.ecm.CLV=new e;return{CLV:eXo.ecm.CLV}}(h)});