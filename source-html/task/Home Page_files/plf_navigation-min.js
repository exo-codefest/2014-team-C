define("SHARED/navigation-spaces-search",["SHARED/jquery"],function(h){eXo.define.names=["$"];eXo.define.deps=[h];return function(e){return{init:function(a,c,f,g,j){var d=this;d.mySpaceRestUrl=c;d.lastSearchKeyword="";d.defaultValueForTextSearch=f;d.selectSpaceAction=j;d.noSpace=g;var d=this,c=document.getElementById(a),b=e(c).find("input.searchText")[0];b.value=f;b.onkeydown=function(){d.onTextSearchChange(a)};b.onkeypress=function(){d.onTextSearchChange(a)};b.onkeyup=function(){d.onTextSearchChange(a)};
b.onfocus=function(){b.value==d.defaultValueForTextSearch?b.value="":b.select();b.className="searchText Focus"};b.onclick=function(b){if(b.stopPropagation)b.stopPropagation();else if(window.event)window.event.cancelBubble=!0};b.onblur=function(){if(""==b.value)b.value=d.defaultValueForTextSearch,b.className="searchText LostFocus"}},requestData:function(a,c){var f=this;e.ajax({async:!1,url:f.mySpaceRestUrl+"?keyword="+a,type:"GET",data:"",success:function(a){f.render(a,c)}})},render:function(a,c){this.dataList=
a;var f=document.getElementById(c),f=e(f).find("ul.spaceNavigation")[0],g="";for(i=0;i<a.length;i++){var j=window.location.protocol+"//"+window.location.host+"/"+a[i].url,d=a[i].displayName,b=a[i].avatarUrl;null==b&&(b="/social-resources/skin/images/ShareImages/SpaceAvtDefault.png");g+="<li class='spaceItem'><a class='spaceIcon avatarMini'' href='"+j+"' title='"+d+"'><img src='"+b+"'/>"+d+"</a></li>"}f.innerHTML=""!=g?g:"<li class='noSpace'>"+this.noSpace+"</li>"},onTextSearchChange:function(a){var c=
document.getElementById(a),c=e(c).find("input.searchText")[0].value;if(c!=this.lastSearchKeyword)this.lastSearchKeyword=c,this.requestData(c,a),e(".moreSpace").hide()},ajaxRedirect:function(a){self==top?window.parent.location.href=a:window.location.href=a}}}(h)});
define("SHARED/navigation-toolbar",["SHARED/base","SHARED/uiPopup","SHARED/portalRequest","SHARED/jquery"],function(h,e,a,c){eXo.define.names=["base","uiPopup","portalRequest","$"];eXo.define.deps=[h,e,a,c];return function(a){return{UIPortalNavigation:{cancelNextClick:function(c,e,d){var b=a("#"+c),c=a("#"+e);b.hide();c.find("span").html(d).css("display","inline").fadeOut(2E3,function(){b.removeAttr("style")})},ClickActionButton:function(c){a("#"+c).toggleClass("open")}}}}(c)});